<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <title>To Do List</title>
</head>
<body>
  <div class="container-fluid">
    <h1 class="mb-3 text-center">My To Do List</h1> 
    <div id="form-div">
      <form id="to-do-form" action="/" method="POST" class="m-3">
        <div class="input-group input-group-lg">
          <input
            class="form-control search-bar"
            placeholder="Add a to-do item"
            name="itemName"
          />
          <button class="btn btn-primary input-group-btn" type="submit">
            ADD
          </button>
        </div>
      </form>
    </div>
          <div id="form-div">
            <form id="item-form" action="/items" method="POST" class="d-flex flex-column">
              <% toDoArray.forEach((element,index) => { %>
              <div class="d-flex flex-row align-items-center">
                <span class="mx-3"><%= index+1 %>. </span>
                <textarea id="itemDesc<%= element.id %>" name="itemDesc<%= element.id %>"><%= element.item %></textarea>
                <div class="m-3  form-check">
                  <input type="checkbox" class="form-check-input" id="delCheck<%= element.id %>" name="delCheck<%= element.id %>" value="<%= element.id %>">
                  <label class="form-check-label" for="delCheck<%= element.id %>">DELETE</label>
                </div>
                <% if(element.completed) { %>
                  <img src="check-mark.png" width="30"/>
                <%} else { %>
                  <div class="m-3  form-check">
                    <input type="checkbox" class="form-check-input" id="compCheck<%= element.id %>" name="compCheck<%= element.id %>" value="true">
                    <label class="form-check-label" for="compCheck<%= element.id %>">COMPLETED</label>
                  </div>
                <%}%>
              </div>
              <% }) %>
              <div class="d-grid gap-2 d-md-flex justify-content-center">
                <button class="btn btn-primary" type="submit">SUBMIT</button>
              </div>
            </form>
          </div>
    </div>        
</body>
</html>